"use strict";(self.webpackChunkml_notebook=self.webpackChunkml_notebook||[]).push([[3513],{3905:(a,e,t)=>{t.d(e,{Zo:()=>o,kt:()=>h});var n=t(67294);function s(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function m(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function p(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){s(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function r(a,e){if(null==a)return{};var t,n,s=function(a,e){if(null==a)return{};var t,n,s={},m=Object.keys(a);for(n=0;n<m.length;n++)t=m[n],e.indexOf(t)>=0||(s[t]=a[t]);return s}(a,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(n=0;n<m.length;n++)t=m[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(s[t]=a[t])}return s}var l=n.createContext({}),i=function(a){var e=n.useContext(l),t=e;return a&&(t="function"==typeof a?a(e):p(p({},e),a)),t},o=function(a){var e=i(a.components);return n.createElement(l.Provider,{value:e},a.children)},N="mdxType",c={inlineCode:"code",wrapper:function(a){var e=a.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(a,e){var t=a.components,s=a.mdxType,m=a.originalType,l=a.parentName,o=r(a,["components","mdxType","originalType","parentName"]),N=i(t),k=s,h=N["".concat(l,".").concat(k)]||N[k]||c[k]||m;return t?n.createElement(h,p(p({ref:e},o),{},{components:t})):n.createElement(h,p({ref:e},o))}));function h(a,e){var t=arguments,s=e&&e.mdxType;if("string"==typeof a||s){var m=t.length,p=new Array(m);p[0]=k;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=a,r[N]="string"==typeof a?a:s,p[1]=r;for(var i=2;i<m;i++)p[i]=t[i];return n.createElement.apply(null,p)}return n.createElement.apply(null,t)}k.displayName="MDXCreateElement"},85095:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>g,default:()=>b,frontMatter:()=>h,metadata:()=>u,toc:()=>w});var n=t(3905),s=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(a,e,t)=>e in a?s(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,N=(a,e)=>{for(var t in e||(e={}))l.call(e,t)&&o(a,t,e[t]);if(r)for(var t of r(e))i.call(e,t)&&o(a,t,e[t]);return a},c=(a,e)=>m(a,p(e)),k=(a,e)=>{var t={};for(var n in a)l.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(null!=a&&r)for(var n of r(a))e.indexOf(n)<0&&i.call(a,n)&&(t[n]=a[n]);return t};const h={title:"CBAM - Convolutional Block Attention Module",authors:["visualdust"],tags:["attention-mechanism"]},g=void 0,u={permalink:"/blog/[26]CBAM-Convolutional-Block-Attention-Module",editUrl:"https://github.dev/neet-cv/ml.akasaki.space/blob/master/blog/[26]CBAM-Convolutional-Block-Attention-Module.md",source:"@site/blog/[26]CBAM-Convolutional-Block-Attention-Module.md",title:"CBAM - Convolutional Block Attention Module",description:"image-20210723203210974",date:"2023-12-31T09:31:53.000Z",formattedDate:"2023\u5e7412\u670831\u65e5",tags:[{label:"attention-mechanism",permalink:"/blog/tags/attention-mechanism"}],readingTime:6.185,hasTruncateMarker:!0,authors:[{name:"Gavin Gong",title:"Rubbish CVer | Poor LaTex speaker | Half stack developer | \u952e\u5708\u8eba\u5c38\u7816\u5bb6",url:"https://gong.host",email:"gavin@gong.host",imageURL:"https://github.yuuza.net/visualDust.png",key:"visualdust"}],frontMatter:{title:"CBAM - Convolutional Block Attention Module",authors:["visualdust"],tags:["attention-mechanism"]},prevItem:{title:"Rethinking BiSeNet For Real-time Semantic Segmentation",permalink:"/blog/[25]Rethinking-BiSeNet-For-Real-time-Semantic-Segmentation"},nextItem:{title:"Non-local Neural Networks",permalink:"/blog/[27]Non-local-Neural-Networks"}},d={authorsImageUrls:[void 0]},w=[{value:"Channel Attention Module\uff08\u901a\u9053\u6ce8\u610f\u529b\uff09",id:"channel-attention-module\u901a\u9053\u6ce8\u610f\u529b",level:2},{value:"Spatial Attention Module\uff08\u7a7a\u95f4\u6ce8\u610f\u529b\uff09",id:"spatial-attention-module\u7a7a\u95f4\u6ce8\u610f\u529b",level:2},{value:"Convolutional Block Attention Module",id:"convolutional-block-attention-module",level:2},{value:"Example",id:"example",level:2}],x={toc:w},y="wrapper";function b(a){var e=a,{components:s}=e,m=k(e,["components"]);return(0,n.kt)(y,c(N(N({},x),m),{components:s,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20210723203210974",src:t(3758).Z,width:"1230",height:"733"})),(0,n.kt)("p",null,(0,n.kt)("a",N({parentName:"p"},{href:"https://arxiv.org/search/cs?searchtype=author&query=Woo%2C+S"}),"Sanghyun Woo"),", ",(0,n.kt)("a",N({parentName:"p"},{href:"https://arxiv.org/search/cs?searchtype=author&query=Park%2C+J"}),"Jongchan Park"),", ",(0,n.kt)("a",N({parentName:"p"},{href:"https://arxiv.org/search/cs?searchtype=author&query=Lee%2C+J"}),"Joon-Young Lee"),", ",(0,n.kt)("a",N({parentName:"p"},{href:"https://arxiv.org/search/cs?searchtype=author&query=Kweon%2C+I+S"}),"In So Kweon")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"We propose Convolutional Block Attention Module (CBAM), a simple yet effective attention module for feed-forward convolutional neural networks. Given an intermediate feature map, our module sequentially infers attention maps along two separate dimensions, channel and spatial, then the attention maps are multiplied to the input feature map for adaptive feature refinement. Because CBAM is a lightweight and general module, it can be integrated into any CNN architectures seamlessly with negligible overheads and is end-to-end trainable along with base CNNs. We validate our CBAM through extensive experiments on ImageNet-1K, MS~COCO detection, and VOC~2007 detection datasets. Our experiments show consistent improvements in classification and detection performances with various models, demonstrating the wide applicability of CBAM. The code and models will be publicly available.")),(0,n.kt)("p",null,"CBAM\u662f\u4e00\u7bc7\u7ed3\u5408\u4e86\u901a\u9053\u6ce8\u610f\u529b\u548c\u7a7a\u95f4\u6ce8\u610f\u529b\u7684\u8bba\u6587\u3002\u5b83\u901a\u8fc7\u5728\u540c\u4e2a\u6a21\u5757\u4e2d\u53e0\u52a0\u901a\u9053\u6ce8\u610f\u529b\u548c\u7a7a\u95f4\u6ce8\u610f\u529b\u8fbe\u5230\u4e86\u826f\u597d\u7684\u6548\u679c\u3002\u4e3a\u4e86\u63d0\u5347 CNN \u6a21\u578b\u7684\u8868\u73b0\uff0c\u9664\u4e86\u5bf9\u7f51\u7edc\u7684\u6df1\u5ea6\u3001\u5bbd\u5ea6\u4e0b\u624b\uff0c\u8fd8\u6709\u4e00\u4e2a\u65b9\u5411\u662f\u6ce8\u610f\u529b\u3002\u6ce8\u610f\u529b\u4e0d\u4ec5\u8981\u544a\u8bc9\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u54ea\u91cc\uff0c\u63d0\u9ad8\u5173\u6ce8\u70b9\u7684\u8868\u8fbe\u3002 \u6211\u4eec\u7684\u76ee\u6807\u662f\u901a\u8fc7\u4f7f\u7528\u6ce8\u610f\u673a\u5236\u6765\u589e\u52a0\u8868\u73b0\u529b\uff0c\u5173\u6ce8\u91cd\u8981\u7279\u5f81\u5e76\u6291\u5236\u4e0d\u5fc5\u8981\u7684\u7279\u5f81\u3002"),(0,n.kt)("p",null,"\u4e3a\u4e86\u5f3a\u8c03\u7a7a\u95f4\u548c\u901a\u9053\u8fd9\u4e24\u4e2a\u7ef4\u5ea6\u4e0a\u7684\u6709\u610f\u4e49\u7279\u5f81\uff0c\u4f5c\u8005\u4f9d\u6b21\u5e94\u7528\u901a\u9053\u548c\u7a7a\u95f4\u6ce8\u610f\u6a21\u5757\uff0c\u6765\u5206\u522b\u4f18\u5316\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u5728\u901a\u9053\u548c\u7a7a\u95f4\u7ef4\u5ea6\u4e0a\u5b66\u4e60\u80fd\u529b\u3002\u4f5c\u8005\u5c06\u6ce8\u610f\u529b\u8fc7\u7a0b\u5206\u4e3a\u901a\u9053\u548c\u7a7a\u95f4\u4e24\u4e2a\u72ec\u7acb\u7684\u90e8\u5206\uff0c\u8fd9\u6837\u505a\u4e0d\u4ec5\u53ef\u4ee5\u8282\u7ea6\u53c2\u6570\u548c\u8ba1\u7b97\u529b\uff0c\u800c\u4e14\u4fdd\u8bc1\u4e86\u5176\u53ef\u4ee5\u4f5c\u4e3a\u5373\u63d2\u5373\u7528\u7684\u6a21\u5757\u96c6\u6210\u5230\u73b0\u6709\u7684\u7f51\u7edc\u67b6\u6784\u4e2d\u53bb\u3002"),(0,n.kt)("hr",null),(0,n.kt)("h2",N({},{id:"channel-attention-module\u901a\u9053\u6ce8\u610f\u529b"}),"Channel Attention Module\uff08\u901a\u9053\u6ce8\u610f\u529b\uff09"),(0,n.kt)("p",null,"\u5173\u4e8e\u901a\u9053\u6ce8\u610f\u529b\u7684\u76f8\u5173\u8bbe\u8ba1\u7ec6\u8282\u8bf7\u53c2\u8003",(0,n.kt)("a",N({parentName:"p"},{href:"./%5B23%5DSqueeze-and-Excitation-Networks"}),"Squeeze-and-Excitation Networks (SENet)"),"\u3002\u5728\u8fd9\u91cc\u4e0d\u8fdb\u884c\u975e\u5e38\u8be6\u7ec6\u7684\u8bbe\u8ba1\u3002\u7279\u5f81\u7684\u6bcf\u4e00\u4e2a\u901a\u9053\u90fd\u4ee3\u8868\u7740\u4e00\u4e2a\u4e13\u95e8\u7684\u68c0\u6d4b\u5668\uff0c\u56e0\u6b64\uff0c\u901a\u9053\u6ce8\u610f\u529b\u662f\u5173\u6ce8\u4ec0\u4e48\u6837\u7684\u7279\u5f81\u662f\u6709\u610f\u4e49\u7684\u3002\u4e3a\u4e86\u6c47\u603b\u7a7a\u95f4\u7279\u5f81\uff0c\u4f5c\u8005\u91c7\u7528\u4e86\u5168\u5c40\u5e73\u5747\u6c60\u5316\u548c\u6700\u5927\u6c60\u5316\u4e24\u79cd\u65b9\u5f0f\u6765\u5206\u522b\u5229\u7528\u4e0d\u540c\u7684\u4fe1\u606f\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20210723194442312",src:t(42200).Z,width:"1188",height:"306"})),(0,n.kt)("p",null,"\u5728\u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c\u4f5c\u8005\u4f7f\u7528Global Average Pool\u548cMax Pool\u5171\u7528\u6784\u9020Channel wise\u7684\u6ce8\u610f\u529b\u3002\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u8f93\u5165\u662f\u4e00\u4e2a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"H"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"W"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"C")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"H\\times W\\times C")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.08125em"}}),"H"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07153em"}}),"C"))))),"\u7684\u7279\u5f81 ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"F")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"F")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"F"))))),"\uff0c\u6211\u4eec\u5148\u5206\u522b\u8fdb\u884c\u4e00\u4e2a\u7a7a\u95f4\u7684\u5168\u5c40\u5e73\u5747\u6c60\u5316\u548c\u6700\u5927\u6c60\u5316\u5f97\u5230\u4e24\u4e2a",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"1"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"1"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"C")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"1\\times 1\\times C")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"1"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"1"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07153em"}}),"C"))))),"\u7684\u901a\u9053\u63cf\u8ff0\u3002\u63a5\u7740\uff0c\u518d\u5c06\u5b83\u4eec\u5206\u522b\u9001\u5165\u4e00\u4e2a\u4e24\u5c42\u7684\u795e\u7ecf\u7f51\u7edc\uff0c\u7b2c\u4e00\u5c42\u795e\u7ecf\u5143\u4e2a\u6570\u4e3a",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"C"),(0,n.kt)("mi",N({parentName:"mrow"},{mathvariant:"normal"}),"/"),(0,n.kt)("mi",{parentName:"mrow"},"r")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"C/r")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07153em"}}),"C"),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"/"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"r"))))),"\uff0c\u6fc0\u6d3b\u51fd\u6570\u4e3a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"R"),(0,n.kt)("mi",{parentName:"mrow"},"e"),(0,n.kt)("mi",{parentName:"mrow"},"L"),(0,n.kt)("mi",{parentName:"mrow"},"U")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"ReLU")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"e"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.10903em"}}),"LU"))))),"\uff0c\u7b2c\u4e8c\u5c42\u795e\u7ecf\u5143\u4e2a\u6570\u4e3a\u3002\u6ce8\u610f\uff0c\u5b83\u4eec\u4f7f\u7528\u5171\u4eab\u7684\u53c2\u6570\u5efa\u7acb\u901a\u9053\u76f8\u5173\u6027\u3002\u5c06\u5f97\u5230\u7684\u901a\u9053\u63cf\u8ff0\u4e58\u4ee5\u8f93\u5165\u7279\u5f81",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"F")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"F")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"F"))))),"\u5373\u53ef\u5f97\u5230\u52a0\u5165\u4e86\u901a\u9053\u76f8\u5173\u6027\u7684\u7279\u5f81\u3002"),(0,n.kt)("p",null,"\u76f8\u8f83\u4e8e\u539f\u672c\u7684",(0,n.kt)("a",N({parentName:"p"},{href:"./%5B23%5DSqueeze-and-Excitation-Networks"}),"SENet"),"\uff0c\u672c\u6587\u540c\u65f6\u4f7f\u7528Global Average Pooling\u548cMax Pooling\u3002\u5728\u540e\u7eed\u7684\u5b9e\u9a8c\u7ed3\u679c\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u901a\u9053\u6ce8\u610f\u529b\u6a21\u5757\u4e2d\uff0c\u540c\u65f6\u5f15\u5165\u6700\u5927\u6c60\u5316\u548c\u5e73\u5747\u6c60\u5316\u53ef\u4ee5\u5f97\u5230\u6700\u597d\u7684\u6548\u679c\u3002"),(0,n.kt)("h2",N({},{id:"spatial-attention-module\u7a7a\u95f4\u6ce8\u610f\u529b"}),"Spatial Attention Module\uff08\u7a7a\u95f4\u6ce8\u610f\u529b\uff09"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20210723194510586",src:t(45918).Z,width:"1173",height:"331"})),(0,n.kt)("p",null,"\u4e0e\u901a\u9053\u6ce8\u610f\u529b\u76f8\u4f3c\uff0c\u7ed9\u5b9a\u4e00\u4e2a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"H"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"W"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"C")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"H\\times W\\times C")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.08125em"}}),"H"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07153em"}}),"C")))))," \u7684\u7279\u5f81 ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"F")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"F")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"F"))))),"\uff0c\u5148\u5206\u522b\u8fdb\u884c\u4e00\u4e2a\u901a\u9053\u7ef4\u5ea6\u7684\u5e73\u5747\u6c60\u5316\u548c\u6700\u5927\u6c60\u5316\u5f97\u5230\u4e24\u4e2a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"H"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mi",{parentName:"mrow"},"W"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"1")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"H\\times W\\times 1")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.08125em"}}),"H"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6444em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"1")))))," \u7684\u901a\u9053\u63cf\u8ff0\uff0c\u5e76\u5c06\u8fd9\u4e24\u4e2a\u63cf\u8ff0\u6309\u7167\u901a\u9053\u62fc\u63a5\u5728\u4e00\u8d77\u3002\u7ecf\u8fc7\u4e00\u4e2a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"7"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"7")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"7\\times 7")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6444em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"7")))))," \u7684\u5377\u79ef\u5c42\uff0c\u6fc0\u6d3b\u51fd\u6570\u4e3a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"S"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"g"),(0,n.kt)("mi",{parentName:"mrow"},"m"),(0,n.kt)("mi",{parentName:"mrow"},"o"),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mi",{parentName:"mrow"},"d")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"Sigmoid")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05764em"}}),"S"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"i"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.03588em"}}),"g"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"m"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"o"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"i"),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal"}),"d"))))),"\uff0c\u5f97\u5230\u6743\u91cd\u7cfb\u6570 ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"M"),(0,n.kt)("mi",{parentName:"msub"},"s"))),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"M_s")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.10903em"}}),"M"),(0,n.kt)("span",N({parentName:"span"},{className:"msupsub"}),(0,n.kt)("span",N({parentName:"span"},{className:"vlist-t vlist-t2"}),(0,n.kt)("span",N({parentName:"span"},{className:"vlist-r"}),(0,n.kt)("span",N({parentName:"span"},{className:"vlist",style:{height:"0.1514em"}}),(0,n.kt)("span",N({parentName:"span"},{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"}}),(0,n.kt)("span",N({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal mtight"}),"s")))),(0,n.kt)("span",N({parentName:"span"},{className:"vlist-s"}),"\u200b")),(0,n.kt)("span",N({parentName:"span"},{className:"vlist-r"}),(0,n.kt)("span",N({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),(0,n.kt)("span",{parentName:"span"})))))))))),"\u3002\u5c06\u6743\u91cd\u7cfb\u6570\u548c\u7279\u5f81 ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"F")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"F")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"F")))))," \u76f8\u4e58\u5373\u53ef\u5f97\u5230\u52a0\u5165\u4e86\u7a7a\u95f4\u6ce8\u610f\u529b\u7684\u7279\u5f81\u56fe\u3002"),(0,n.kt)("p",null,"\u5728\u7a7a\u95f4\u6ce8\u610f\u529b\u6a21\u5757\u4e2d\uff0c\u540c\u65f6\u5f15\u5165\u6700\u5927\u6c60\u5316\u548c\u5e73\u5747\u6c60\u5316\u6bd4\u5229\u7528\u4e00\u4e2a ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"1"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"1")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"1\\times 1")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"1"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6444em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"1")))))," \u7684\u5377\u79ef\u8981\u597d\uff0c\u540c\u65f6\uff0c\u5377\u79ef\u5c42\u91c7\u7528 ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"7"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"7")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"7\\times 7")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6444em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"7")))))," \u7684\u5377\u79ef\u6838\u8981\u4f18\u4e8e ",(0,n.kt)("span",N({parentName:"p"},{className:"math math-inline"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex"}),(0,n.kt)("span",N({parentName:"span"},{className:"katex-mathml"}),(0,n.kt)("math",N({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"3"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mn",{parentName:"mrow"},"3")),(0,n.kt)("annotation",N({parentName:"semantics"},{encoding:"application/x-tex"}),"3\\times 3")))),(0,n.kt)("span",N({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"3"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mbin"}),"\xd7"),(0,n.kt)("span",N({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222em"}}))),(0,n.kt)("span",N({parentName:"span"},{className:"base"}),(0,n.kt)("span",N({parentName:"span"},{className:"strut",style:{height:"0.6444em"}})),(0,n.kt)("span",N({parentName:"span"},{className:"mord"}),"3")))))," \u7684\u5377\u79ef\u6838\u3002"),(0,n.kt)("h2",N({},{id:"convolutional-block-attention-module"}),"Convolutional Block Attention Module"),(0,n.kt)("p",null,"\u901a\u9053\u6ce8\u610f\u529b\u548c\u7a7a\u95f4\u6ce8\u610f\u529b\u8fd9\u4e24\u4e2a\u6a21\u5757\u53ef\u4ee5\u4ee5\u5e76\u884c\u6216\u8005\u987a\u5e8f\u7684\u65b9\u5f0f\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u4f46\u662f\u4f5c\u8005\u53d1\u73b0\u987a\u5e8f\u7ec4\u5408\u5e76\u4e14\u5c06\u901a\u9053\u6ce8\u610f\u529b\u653e\u5728\u524d\u9762\u53ef\u4ee5\u53d6\u5f97\u66f4\u597d\u7684\u6548\u679c\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20210723194528528",src:t(48516).Z,width:"1229",height:"388"})),(0,n.kt)("p",null,"\u4e00\u4e2a\u5b8c\u6574\u7684 CBAM \u6a21\u5757\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5176 TensorFlow \u7684\u4e00\u4e2a\u5b9e\u73b0\u5982\u4e0b\u6240\u793a\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",N({parentName:"pre"},{className:"language-python"}),"def CBAM(input, reduction):\n    \"\"\"\n    @Convolutional Block Attention Module\n    \"\"\"\n\n    _, width, height, channel = input.get_shape()  # (B, W, H, C)\n\n    # channel attention\n    x_mean = tf.reduce_mean(input, axis=(1, 2), keepdims=True)   # (B, 1, 1, C)\n    x_mean = tf.layers.conv2d(x_mean, channel // reduction, 1, activation=tf.nn.relu, name='CA1')  # (B, 1, 1, C // r)\n    x_mean = tf.layers.conv2d(x_mean, channel, 1, name='CA2')   # (B, 1, 1, C)\n\n    x_max = tf.reduce_max(input, axis=(1, 2), keepdims=True)  # (B, 1, 1, C)\n    x_max = tf.layers.conv2d(x_max, channel // reduction, 1, activation=tf.nn.relu, name='CA1', reuse=True)\n    # (B, 1, 1, C // r)\n    x_max = tf.layers.conv2d(x_max, channel, 1, name='CA2', reuse=True)  # (B, 1, 1, C)\n\n    x = tf.add(x_mean, x_max)   # (B, 1, 1, C)\n    x = tf.nn.sigmoid(x)        # (B, 1, 1, C)\n    x = tf.multiply(input, x)   # (B, W, H, C)\n\n    # spatial attention\n    y_mean = tf.reduce_mean(x, axis=3, keepdims=True)  # (B, W, H, 1)\n    y_max = tf.reduce_max(x, axis=3, keepdims=True)  # (B, W, H, 1)\n    y = tf.concat([y_mean, y_max], axis=-1)     # (B, W, H, 2)\n    y = tf.layers.conv2d(y, 1, 7, padding='same', activation=tf.nn.sigmoid)    # (B, W, H, 1)\n    y = tf.multiply(x, y)  # (B, W, H, C)\n\n    return y\n")),(0,n.kt)("h2",N({},{id:"example"}),"Example"),(0,n.kt)("p",null,"\u4f7f\u7528\u8be5\u6a21\u5757\u7684\u4f8b\u5b50\uff0c\u5982\u5c06\u5176\u96c6\u6210\u4e8eResNet\u4e2d\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image-20210723203033736",src:t(7669).Z,width:"1104",height:"253"})))}b.isMDXComponent=!0},42200:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/image-20210723194442312-41f1730664babe485c91206567873078.png"},45918:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/image-20210723194510586-9878036a7b0c713e04f7209e59422280.png"},48516:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/image-20210723194528528-6cedaa2948300ca443650be1ae88c63f.png"},7669:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/image-20210723203033736-c2751d0f60a9dbd9bd288e3602a82a00.png"},3758:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t.p+"assets/images/image-20210723203210974-2dc470230899435d972cfec3588e4ffc.png"}}]);