---
title: Instance-sensitive Fully Convolutional Networks
authors: [visualdust]
tags: [fcn, segmentation, instance-segmentation, backbone]
--- 

[Jifeng Dai](https://arxiv.org/search/cs?searchtype=author&query=Dai%2C+J), [Kaiming He](https://arxiv.org/search/cs?searchtype=author&query=He%2C+K), [Yi Li](https://arxiv.org/search/cs?searchtype=author&query=Li%2C+Y), [Shaoqing Ren](https://arxiv.org/search/cs?searchtype=author&query=Ren%2C+S), [Jian Sun](https://arxiv.org/search/cs?searchtype=author&query=Sun%2C+J)

> Fully convolutional networks (FCNs) have been proven very successful for semantic segmentation, but the FCN outputs are unaware of object instances. In this paper, we develop FCNs that are capable of proposing instance-level segment candidates. In contrast to the previous FCN that generates one score map, our FCN is designed to compute a small set of instance-sensitive score maps, each of which is the outcome of a pixel-wise classifier of a relative position to instances. On top of these instance-sensitive score maps, a simple assembling module is able to output instance candidate at each position. In contrast to the recent DeepMask method for segmenting instances, our method does not have any high-dimensional layer related to the mask resolution, but instead exploits image local coherence for estimating instances. We present competitive results of instance segment proposal on both PASCAL VOC and MS COCO.

è¿™ç¯‡å·¥ä½œåˆåInstanceFCNã€‚å®ä¾‹åˆ†å‰²æ–¹é¢ï¼Œç”±äºç½‘ç»œéš¾ä»¥åŒæ—¶è¿›è¡Œåˆ†ç±»å’Œåˆ†å‰²ä»»åŠ¡ï¼Œå› æ­¤é¦–å…ˆæµè¡Œçš„æ˜¯äºŒé˜¶æ®µå®ä¾‹åˆ†å‰²ç½‘ç»œï¼Œé¦–å…ˆå¯¹è¾“å…¥æ‰¾åˆ°å®ä¾‹çš„proposalï¼Œç„¶ååœ¨å…¶ä¸­è¿›è¡Œå¯†é›†é¢„æµ‹ï¼ˆä¹Ÿå°±æ˜¯å…ˆæ¡†æ¡†å†åˆ†å‰²ï¼‰ã€‚æœ¬æ–‡ä»åç§°ä¸Šçœ‹ä¸æ˜¯ä¸€ç¯‡è®²å®ä¾‹åˆ†å‰²çš„æ–‡ç« ï¼Œæ˜¯è®²å¦‚ä½•é€šè¿‡FCNè·å¾—å®ä¾‹çº§åˆ«çš„åˆ†å‰²maskçš„çš„ã€‚

åœ¨é˜…è¯»ä¹‹å‰æˆ‘æƒ³æé†’ä¸€ä¸‹ï¼Œè¿™ç¯‡å·¥ä½œçš„æ•ˆæœæ˜¯æ¯”è¾ƒå·®çš„ï¼Œæ¯•ç«Ÿæ˜¯æ—©æœŸå·¥ä½œã€‚ä¸è¿‡è¿™ç¯‡å·¥ä½œå…·æœ‰ä¸é”™çš„å¯å‘æ„ä¹‰ï¼Œå€¼å¾—è¯»ä¸€è¯»ã€‚åé¢çš„ä¸€ç¯‡å·¥ä½œFCISï¼ˆFully Convolutional Instance-aware Semantic Segmentationï¼‰ä¸­å°±å€Ÿé‰´äº†æœ¬æ–‡ä¸­æå‡ºçš„instance-sensitive score mapsï¼ˆè¯·ä¸è¦å¼„æ··æœ¬ç¯‡å·¥ä½œå’ŒFCISï¼‰ã€‚æœ¬æ–‡çš„ä¸€å¤§è´¡çŒ®å°±æ˜¯æå‡ºä½¿ç”¨instance-sensitive score mapsåŒºåˆ†ä¸åŒä¸ªä½“ã€‚

<!--truncate-->

---

## InstanceFCN

å¤§å®¶ä¹Ÿç§°è¿™ç¯‡å·¥ä½œä¸ºInstanceFCNã€‚è¿™ç¯‡å·¥ä½œçš„åŠŸèƒ½åªæ˜¯åŒºåˆ†äº†å®ä¾‹ï¼Œå¹¶æ²¡æœ‰åŒºåˆ†ç±»åˆ«ã€‚è¿™æ˜¯ä¸€ç¯‡â€ä¸¤ä¸åƒâ€œçš„å·¥ä½œã€‚æˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºâ€å¯¹è±¡åˆ†å‰²â€œï¼š

| åç§°                 | æè¿°                                             |
| -------------------- | ------------------------------------------------ |
| è¯­ä¹‰åˆ†å‰²             | åŒºåˆ†å„ä¸ªåƒç´ ç±»åˆ«çš„å¯†é›†é¢„æµ‹ä»»åŠ¡                   |
| å®ä¾‹åˆ†å‰²             | åŒºåˆ†å„ä¸ªåƒç´ ç±»åˆ«åŠå…¶å±äºçš„å¯¹è±¡å®ä¾‹çš„å¯†é›†é¢„æµ‹ä»»åŠ¡ |
| å¯¹è±¡åˆ†å‰²ï¼ˆæœ¬ç¯‡å·¥ä½œï¼‰ | åŒºåˆ†å„ä¸ªåƒç´ å±äºçš„å¯¹è±¡å®ä¾‹çš„å¯†é›†é¢„æµ‹ä»»åŠ¡         |

è¿™ç¯‡å·¥ä½œæ˜¯ä½¿ç”¨å…¨å·ç§¯ç½‘ç»œåŒºåˆ†åƒç´ æ‰€å±çš„å¯¹è±¡å®ä¾‹çš„ï¼š

![image-20210831174047097](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831174047097.png)

ä¸Šå›¾æ˜¯InstanceFCNçš„ä¸»è¦ç»“æ„ã€‚å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç‰¹å¾æå–ç½‘ç»œä¹‹åï¼ˆåŸè®ºæ–‡ä¸­InstanceFCNä½¿ç”¨åœ¨ImageNetä¸Šé¢„è®­ç»ƒçš„ä¿®æ”¹ç‰ˆVGG-16ä½œä¸ºéª¨å¹²ç‰¹å¾æå–ç½‘ç»œï¼Œä¿®æ”¹ç‰ˆæ˜¯æŒ‡ä½œè€…å¯¹åŸç‰ˆçš„VGG-16åšäº†ä¸€äº›è°ƒæ•´é¿å…è¿‡åº¦çš„ä¸‹é‡‡æ ·å¯¼è‡´åˆ†è¾¨ç‡è¿‡åº¦æŸå¤±ã€‚å…·ä½“å¯ä»¥çœ‹ä¸€ä¸‹åŸè®ºæ–‡ä¸­ç®—æ³•éƒ¨åˆ†çš„ç›¸å…³æè¿°ï¼‰ï¼ŒInstanceFCNåœ¨éª¨å¹²ç‰¹å¾æå–ç½‘ç»œä¹‹åä¸»è¦åˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«æ˜¯instanceåˆ†æ”¯ï¼ˆç”¨äºäº§ç”Ÿå®ä¾‹çº§çš„åƒç´ æ‰“åˆ†ï¼‰ä»¥åŠobjectnessåˆ†æ”¯ï¼ˆç”¨äºäº§ç”ŸæŸä½ç½®æ˜¯ä¸æ˜¯ä¸€ä¸ªå®ä½“çš„æ‰“åˆ†ï¼‰ã€‚è¿™ä¸¤ä¸ªåˆ†æ”¯çš„ç»“æœå°†ç›¸ä¹˜å½¢æˆæœ€ç»ˆçš„å¾—åˆ†ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬ä¸»è¦èŠä¸€ä¸‹è¿™ä¸¤ä¸ªåˆ†æ”¯å¦‚ä½•å·¥ä½œã€‚

## Instanceåˆ†æ”¯

è¿™ä¸ªåˆ†æ”¯çš„ä½œç”¨äº§ç”Ÿä¸€ä¸ªåƒç´ ä¸å®ä½“å…³ç³»çš„æ‰“åˆ†ï¼Œå¯è¡¡é‡ä¸€ä¸ªåƒç´ åº”è¯¥å±äºå“ªä¸ªå®ä¾‹ã€‚è¿™ä¸ªåˆ†æ”¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š

1. é€šè¿‡å·ç§¯å¾—åˆ°instance-sensitive score mapsã€‚
2. ä¸€ä¸ªassembling moduleå°†å®ƒä»¬ç»„è£…ç§°ä¸ºæœ€ç»ˆçš„ç»“æœã€‚

æ¥ä¸‹æ¥åˆ†åˆ«ä»‹ç»è¿™ä¸¤ä¸ªé˜¶æ®µã€‚

### Instance-sensitive score maps

instance-sensitive score mapsæ˜¯è¿™ä»½å·¥ä½œçš„æ ¸å¿ƒè´¡çŒ®ä¹‹ä¸€ã€‚InstanceFCNé€šè¿‡è¿™ä¸€è´¡çŒ®å®ç°åŒºåˆ†ä¸åŒå¯¹è±¡ã€‚åœ¨è¯­ä¹‰åˆ†å‰²æ¨¡å‹ä¸­ï¼Œé€šå¸¸å°†æŸå¤±è®¾å®šä¸ºäº¤å‰ç†µï¼Œå› æ­¤æ¯ä¸ªåƒç´ åœ¨ä¼˜åŒ–æ—¶ä»…è¡¨è¾¾ä¸€ä¸ªè¯­ä¹‰ã€‚è¿™å¯¹äºå¾ˆå¤šä¸ªå¯¹è±¡å­˜åœ¨é‡å çš„åƒç´ éš¾ä»¥åˆ¤æ–­å…¶æ‰€å±ã€‚

ç›¸æ¯”äºç”¨äºè¯­ä¹‰åˆ†å‰²çš„FCNåœ¨æœ€ç»ˆè¾“å‡ºä¸€ä¸ªç±»åˆ«ï¼ŒInstanceFCNæœ€åçš„è¾“å‡ºæ˜¯ä¸€ä¸ªåƒç´ äºå¯¹è±¡å…³ç³»çš„æ‰“åˆ†ã€‚å¤§è‡´ä¸Šå»ç†è§£ï¼Œå°±=å°±æ˜¯ä¸€ä¸ªåƒç´ è¶Šå¯èƒ½å±äºæŸä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªæ‰“åˆ†å°±è¶Šé«˜ã€‚è¿›è¡Œæ‰“åˆ†çš„æ–¹å¼æ¥æºäºä¸€ä¸ªç®€å•çš„è§„åˆ™ï¼šä¸åŒå¯¹è±¡åº”è¯¥å¤„åœ¨ä¸åŒä½ç½®ã€‚å› æ­¤åœ¨åŸè®ºæ–‡ä¸­ï¼Œä½œè€…ä½¿ç”¨$k\times k$çš„çŸ©é˜µå®šä¹‰ä¸€ç§â€ç›¸å¯¹ä½ç½®â€œï¼š

![image-20210831165835721](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831165835721.png)

ä¾‹å¦‚åœ¨ä¸Šå›¾ä¸­ï¼Œ$k=3$ï¼Œå°±ä¼šäº§ç”Ÿ$k^2=9$ä¸ªscore mapã€‚è¿™äº›score mapè¢«ç§°ä¸ºinstance-sensitive score mapsï¼Œå¯ä»¥ç”¨äºå¯¹åƒç´ å’Œå¯¹è±¡çš„ç›¸å¯¹ä½ç½®è¿›è¡Œæ‰“åˆ†ã€‚

è¿™ä¸ª$k\times k$çš„çŸ©é˜µæˆ‘ä»¬æš‚ä¸”ç§°ä¹‹ä¸ºâ€æ‰“åˆ†å™¨â€œã€‚è¿™ä¸ªæ‰“åˆ†å™¨æ˜¯ä¸€ä¸ªåœ¨å…¨å›¾ä¸Šç§»åŠ¨çš„æ»‘åŠ¨çª—å£ï¼Œå°†å¯¹å…¨å›¾çš„å„ä¸ªåŒºåŸŸè¿›è¡Œæ‰“åˆ†ã€‚è¿˜æ˜¯åˆšæ‰æåˆ°çš„ï¼Œä½œè€…è®¤ä¸ºä¸åŒçš„å¯¹è±¡å¤„äºä¸åŒçš„ä½ç½®ã€‚æ‰€ä»¥åªè¦æ‰“åˆ†å™¨åœ¨æ‰€æœ‰ä½ç½®éƒ½æ‰“ä¸€ä¸‹åˆ†ï¼Œä½¿æ¯ä¸ªåƒç´ éƒ½å…·æœ‰ä¸€ä¸ªè·Ÿä½ç½®ç›¸å…³çš„åˆ†æ•°ï¼Œå°±èƒ½åŒºåˆ†è¿™ä¸ªåƒç´ åˆ°åº•å±äºå“ªä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ä¸Šå›¾ä¸­æœ‰ä¸¤ä¸ªç±»åˆ«ä¸ºäººçš„å®ä½“ï¼Œæ‰“åˆ†å™¨åœ¨å·¦ä¾§çš„äººçš„ä½ç½®äº§ç”Ÿçš„score mapsæœ€ç»ˆä»…æ‹¼æ¥å‡ºäº†å·¦ä¾§çš„äººï¼Œå¹¶æ²¡æœ‰æ‹¼æ¥å‡ºå³é¢çš„ã€‚

æ ¹æ®åŸè®ºæ–‡ï¼Œå‰ç½®éª¨å¹²ç‰¹å¾æå–ç½‘ç»œè¾“å‡ºç‰¹å¾å›¾åï¼Œé¦–å…ˆä½¿ç”¨ä¸€ä¸ª512-dçš„$1\times 1$å·ç§¯å¯¹ç‰¹å¾è¿›è¡Œä¸€ä¸‹è½¬æ¢ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ª$3\times 3$çš„å·ç§¯å±‚äº§ç”Ÿinstance-sensitive score mapsï¼š

![image-20210831195822063](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831195822063.png)

åˆšæ‰æˆ‘ä»¬æåˆ°è®ºæ–‡ä¸­ä½¿ç”¨ä¸€ä¸ª$k\times k$çš„ç½‘æ ¼æ‰“åˆ†å™¨æè¿°æŸç§ç›¸å¯¹ä½ç½®ä¿¡æ¯ï¼Œæ‰€ä»¥è¿™ä¸ªç”¨äºå½¢æˆscore mapçš„$3\times 3$å·ç§¯å±‚å·ç§¯æ ¸ç»´åº¦å°±æ˜¯$k^2$ã€‚ä¹Ÿå°±æ˜¯å¯¹äºè¾“å‡ºï¼Œåˆ†è¾¨ç‡ä¸Šæ¯ä¸ªåƒç´ åæ–¹å †å ç€$k^2$ä¸ªæ•°å­—ï¼Œåˆ†åˆ«è¡¨ç¤ºè¿™ä¸ªåƒç´ å¯¹$k^2$ä¸ªç›¸å¯¹ä½ç½®çš„æ‰“åˆ†ã€‚

è¿™é‡Œå¯èƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå°ç–‘é—®ï¼Œå°±æ˜¯å·ç§¯æ ¸æ˜æ˜æ˜¯é€åƒç´ çš„è¿­ä»£ï¼Œè€Œä¸”æ ¹æ®ä¸Šé¢çš„æè¿°åªæœ‰$3\times 3$çš„å¤§å°ï¼Œæ€ä¹ˆå¯èƒ½è¦†ç›–å›¾ä¸­çš„åŒºåŸŸï¼š

![image-20210831201633024](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831201633024.png)

ä¾‹å¦‚è¿™å¹…ç¤ºæ„å›¾ä¸­ï¼Œä¸€ä¸ª$k\times k,k=3$çš„æ‰“åˆ†å™¨å‘½åå°±æ˜¯ä¸€ä¸ª$3\times 3$çš„å·ç§¯æ ¸ï¼Œå¦‚ä½•è¦†ç›–ä¸€ä¸ªäººçš„åƒç´ èŒƒå›´ï¼Ÿæˆ‘è‡ªå·±çš„ç†è§£æ˜¯VGG-16éƒ½è¿›æ¥å·è¿‡äº†ï¼Œä¸€ä¸ªåƒç´ å°±å·²ç»èƒ½ä»£è¡¨ä¸€å®šå¤§å°çš„æ„Ÿå—é‡äº†ã€‚è€Œä¸”åœ¨$3\times 3$å·ç§¯ä¹‹å‰è¿˜æœ‰ä¸€ä¸ª$1\times 1$çš„å·ç§¯å±‚ï¼Œè®­ç»ƒè¿‡ç¨‹å®ƒå­¦äº†å•¥å…¨æ˜¯ç„å­¦ã€‚è¿™å°±å¯¼è‡´äº†è¿™éƒ¨åˆ†å¯è§£é‡Šæ€§æ¯”è¾ƒç‰µå¼ºï¼ˆä¹Ÿè®¸æ˜¯æˆ‘æ‰ç–å­¦æµ…è§£è¯»å¤±è¯¯ï¼‰ã€‚`å¤§å®¶éƒ½å¸¸è®²èµ·è¿™ä¸ªç¬‘è¯ï¼šâ€œé€šè¿‡å­¦ä¹ çš„å·ç§¯æ ¸èƒ½åšåˆ°çš„è¯è§£é‡Šä¸é€šä¹Ÿæ˜¯èƒ½è§£é‡Šé€šçš„â€ã€‚å¦‚æœæ‚¨æœ‰å¿ƒé’»ç ”æ·±åº¦ç¥ç»ç½‘ç»œçš„å¯è§£é‡Šæ€§ï¼Œé‚£ä¹ˆç¥æ‚¨èƒ½åœ¨è¿™æ¡è·¯ä¸Šèµ°å¾—é¡ºåˆ©ğŸ‘»ã€‚æœ‰ä»»ä½•å®è´¨æ€§çš„è¿›å±•è¯·è®©æˆ‘ä¹Ÿäº†è§£ä¸€ä¸‹æ‚¨çš„å·¥ä½œ`ã€‚

> æ’ä¸€å˜´ï¼Œæˆ‘åœ¨æƒ³è¿™æ ·çš„ç»“æ„åœ¨ä¸åŒæ„Ÿå—é‡çš„ç‰©ä½“ä¸Šè¡¨ç°åº”è¯¥ä¸ä¼šå‡è¡¡å§ã€‚è¿™æ ·è®¾è®¡å®å±æ˜¯æŠŠå¯¹ä¸åŒæ„Ÿå—é‡çš„å…¼å®¹æ€§æŠ›ç»™äº†éª¨å¹²ç½‘ç»œå’Œé‚£ä¸ªä¸çŸ¥é“ä¸ºä»€ä¹ˆå­˜åœ¨çš„$1\times 1$å·ç§¯ã€‚çœ‹äº†ä¸€çœ¼åŸè®ºæ–‡è¯•éªŒç»“æœéƒ¨åˆ†ï¼Œç¡®å®æ•ˆæœä¸€èˆ¬ã€‚ä¼šä¸ä¼šæ¢ä¸ŠRes-Netæˆ–è€…Uç»“æ„çš„ç½‘ç»œåæ€§èƒ½ä¼šæ˜¾è‘—æå‡å‘¢ï¼Ÿ

è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä»½instance-sensitive score mapsã€‚ä¸è¿‡ä»…å‡­æ­¤è¿˜ä¸èƒ½åŒºåˆ†å‡ºå¯¹è±¡ï¼Œè¿˜éœ€è¦é€šè¿‡ä¸€ä¸ªç§°ä¸ºç»„è£…ï¼ˆassemblingï¼‰çš„è¿‡ç¨‹ç”Ÿæˆå¯¹è±¡çº§çš„è¾“å‡ºã€‚

### Instance assembling module

instance-sensitive score mapsè¿˜ä¸è¶³ä»¥ç›´æ¥äº§ç”Ÿå¯¹è±¡å®ä¾‹ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡â€ç»„è£…â€œscore mapsæ¥äº§ç”Ÿå¯¹è±¡å®ä¾‹ï¼š

![image-20210831180137018](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831180137018.png)

ä¾‹å¦‚ï¼Œåœ¨ä¸Šå›¾æ‰€ç¤ºçš„ä¸¤ä¸ªç±»åˆ«ä¸ºäººçš„å¯¹è±¡ä¸Šï¼Œé€šè¿‡å·ç§¯æ‰“åˆ†äº§ç”Ÿinstance-sensitive score mapsã€‚æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“è¿™ä¸ª$k\times k ,k=3$çš„æ‰“åˆ†å™¨ä½äºå·¦ä¾§çš„äººçš„ä½ç½®æ—¶ï¼Œåœ¨è¿™ä¸ªæ‰“åˆ†å™¨å†…éƒ¨çš„$k^2 = 9$ä¸ªä½ç½®ä¸Šè¾“å‡ºäº§ç”Ÿäº†ä¸åŒçš„score mapï¼ˆä¹Ÿå°±æ˜¯ä¸Šä¸ªé˜¶æ®µç½‘ç»œçš„è¾“å‡ºæ˜¯$k^2$ç»´çš„ï¼Œåˆ†åˆ«ä»£è¡¨å½“å‰ä½ç½®ä¸‹å’Œè¿™$k^2$ä¸ªåŒºåŸŸçš„ç›¸å¯¹ä½ç½®å…³ç³»åˆ†æ•°ï¼‰ã€‚

æ¥ä¸‹æ¥Instance assembling moduleä¼šç”¨è¿™ä¸ª$k^2$ç»´çš„è¾“å‡ºâ€œç»„è£…â€å‡ºä¸€ä¸ªåƒç´ çº§çš„å®ä¾‹è¾“å‡ºã€‚åŸè®ºæ–‡å°†è¿™ä¸ªç»„è£…çš„æ¨¡å—æè¿°ä¸ºä¸€ä¸ªå¤§å°ä¸º$m\times m$çš„çª—å£ï¼ˆå…¶ä¸­mæ˜¯kçš„å€æ•°ï¼‰ï¼Œå°†è¿™ä¸ªçª—å£åˆ†ä¸º$\frac{m}{k}\times \frac{m}{k}$ä¸ªå­çª—å£ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªçª—å£æ˜¯$k\times k$è¿™ä¹ˆå¤§ï¼Œæ¯ä¸ªå­çª—å£ç›´æ¥ä»score mapçš„ç›¸åº”ä½ç½®å¤åˆ¶å¯¹åº”çš„å€¼ï¼Œç„¶åæ‹¼åœ¨ä¸€èµ·ï¼ˆä¾æ®å®ƒä»¬çš„ç›¸å¯¹ä½ç½®æ‹¼åœ¨ä¸€èµ·ï¼‰å½¢æˆ$m^2$å¤§å°çš„è¾“å‡ºã€‚åœ¨åŸæ–‡ä¸­ï¼Œä½œè€…é€‰æ‹©äº†$m=21$ï¼Œæ­¥é•¿$stride = 8$ã€‚

ä½œè€…åœ¨åŸæ–‡ä¸­é‡ç”³ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œå…¶ä¸­ä»…åŒ…å«å¤åˆ¶ç²˜è´´çš„æ“ä½œï¼Œä¸éœ€è¦å­¦ä¹ ã€‚ä½†æ˜¯è¿™ä¸ªæ¨¡å—ä»ç„¶æ˜¯äº§ç”Ÿ$m^2$åˆ†è¾¨ç‡è¾“å‡ºçš„â€œå”¯ä¸€æŒ‡å®šç»„ä»¶â€ï¼ˆthe only componentï¼‰ï¼Œæ˜¯ç½‘ç»œçš„é‡è¦ç»„ä»¶ï¼Œä¸”ç‰¹å¾å›¾ç”±å®ƒç»æ‰‹åå¾—åˆ°çš„è¾“å‡ºç›´æ¥å‚ä¸lossè®¡ç®—ï¼Œæ‰€ä»¥å…¶è®¾è®¡å½±å“ç½‘ç»œçš„è®­ç»ƒä¼˜åŒ–è¿‡ç¨‹ã€‚

> å›çœ‹åˆšæ‰æˆ‘ä»¬åœ¨Instance-sensitive score mapsé‚£é‡Œæåˆ°çš„å°ç–‘é—®ï¼ŒInstanceFCNé€šè¿‡å·ç§¯äº§ç”Ÿâ€œä½ç½®æ•æ„Ÿçš„â€è¾“å‡ºä»…é€šè¿‡å·ç§¯è¿™ä»¶äº‹ç¡®å®éš¾ä»¥è§£é‡Šã€‚å¦‚æœçœŸçš„æ˜¯è¿™æ ·ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨ç»„è£…éƒ¨åˆ†ä¹Ÿç›´æ¥ç”¨ä¸€ä¸ªå¯ä»¥å­¦ä¹ çš„å·ç§¯è§£å†³å‘¢ï¼Ÿä¸ªäººè®¤ä¸ºè¿™ä¸ªâ€œå¤åˆ¶ç²˜è´´â€æ¨¡å—æ˜¯è§£é‡Šçš„ä¸€éƒ¨åˆ†ã€‚ä½œè€…åœ¨é‡ç”³çš„æ—¶å€™ä¹Ÿæåˆ°äº†ï¼Œè¿™ä¸ªæ¨¡å—å½±å“ç½‘ç»œçš„è®­ç»ƒä¼˜åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯å¹²é¢„å‰åºç½‘ç»œå­¦ä¹ è¡Œä¸ºçš„ã€‚å› ä¸ºå®ƒâ€œå¯¹ç€ä½ç½®å¤åˆ¶ç²˜è´´â€çš„è¡Œä¸ºï¼Œåœ¨ä¼˜åŒ–ç½‘ç»œçš„æ—¶å€™å¯¼è‡´äº†å‰é¢score mapçš„äº§ç”Ÿæ˜¯åŒºåŸŸæ•æ„Ÿçš„ï¼ˆä»¥ä¸Šçº¯å±æˆ‘è‡ªå·±çš„è‡†æƒ³ï¼‰ã€‚

ç”±äºè¿™ç¯‡è®ºæ–‡å¹¶æ²¡æœ‰æä¾›å…·ä½“çš„ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸ªassemblingæ¨¡å—çš„å…·ä½“è®¾è®¡æ— ä»çŸ¥æ™“ã€‚çŒœæµ‹æ˜¯ä¸€ä¸ª`[0,0,...,1,...,0]`é•¿ç›¸çš„å·ç§¯ã€‚

## Objectåˆ†æ”¯

è¿™ä¸ªåˆ†æ”¯ç”¨äºäº§ç”ŸObjectness score mapï¼Œä¸»è¦ç”¨äºåˆ¤åˆ«æŸä¸ªä½ç½®å­˜åœ¨ä¸€ä¸ªå®ä½“çš„å¯èƒ½æ€§ã€‚

![image-20210902090944392](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210902090944392.png)

å¦‚ä¸Šå›¾ï¼Œè¿™ä¸ªåˆ†æ”¯å’ŒInstanceåˆ†æ”¯æ˜¯å¹¶è¡Œçš„ã€‚åœ¨åŸè®ºæ–‡çš„æè¿°ä¸­ï¼Œè¯¥åˆ†æ”¯ä½¿ç”¨ä¸€ä¸ª$3\times 3$å·ç§¯å’Œä¸€ä¸ª$1\times 1$å·ç§¯æ„æˆã€‚å…¶ä¸­$1\times 1$å·ç§¯æ˜¯ä¸€ä¸ªå¯†é›†ï¼ˆé€åƒç´ ï¼‰çš„logisticå›å½’ï¼Œå›å½’ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯â€œèƒŒæ™¯â€ï¼Œä¸€ç±»æ˜¯â€œå®ä½“â€ã€‚

![image-20210831174047097](./src/Instance-sensitive-Fully-Convolutional-Networks/image-20210831174047097.png)

æ¥ä¸‹æ¥è¿™ä¸¤ä¸ªåˆ†æ”¯äº§ç”Ÿçš„ç»“æœç›´æ¥ç›¸ä¹˜å¾—åˆ°æœ€ç»ˆç»“æœã€‚æ³¨æ„ï¼Œobjectåˆ†æ”¯çš„è¾“å‡ºåˆ†è¾¨ç‡è¦å’Œinstaceåˆ†æ”¯åŒ¹é…ï¼Œå¦åˆ™æ²¡æ³•æŒ‰ä½ç›¸ä¹˜ã€‚

## Lossè®¾è®¡

$$
\sum_i (L(p_i,p_i^*)+\sum_j L(S_{i,j},S_{i,j}^*))
$$

å…¶ä¸­$p$çš„éƒ¨åˆ†æ˜¯åœ¨è®¡ç®—objectåˆ†æ”¯çš„lossï¼Œ$S$çš„éƒ¨åˆ†æ˜¯åœ¨è®¡ç®—intanceåˆ†æ”¯çš„lossã€‚
